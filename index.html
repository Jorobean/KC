<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="KEMS (Kinetic Energy Management System) devices combine a reflective surface and camera so users can record and review device-based self-observation sessions for emotional awareness, grounding, and personal growth.">
  <meta name="keywords" content="KEMS, Kinetic Energy Management System, self-observation, device-based therapy, getkems.com, emotional awareness, grounding">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://getkems.com/">
  <title>KEMS — Kinetic Energy Management System | getkems.com</title>
  <!-- Open Graph / Facebook -->
  <meta property="og:title" content="KEMS — Kinetic Energy Management System">
  <meta property="og:description" content="Device-based self-observation system that records sessions for reflection, coaching, and therapeutic growth.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://getkems.com/">
  <meta property="og:image" content="https://getkems.com/og-image.png">
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@getkems">
  <meta name="twitter:creator" content="@GetKEMS">
  <meta name="twitter:title" content="KEMS — Kinetic Energy Management System">
  <meta name="twitter:description" content="Record and review device-based sessions to improve self-awareness, emotional regulation, and therapeutic outcomes.">
  <meta name="twitter:image" content="https://getkems.com/og-image.png">
  <style>
    :root{
      --bg: #f4f4f4;
      --card: #fff;
      --text: #222;
      --accent: #111;
      --max-width: 900px;
      --radius: 10px;
    }

    html { font-size: 16px; }
    @media (max-width: 420px){ html { font-size: 15px; } }
    @media (min-width: 1200px){ html { font-size: 18px; } }

    body {
      font-family: "Courier New", Courier, monospace;
      background-color: var(--bg);
      color: var(--text);
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .container {
      width: 92%;
      max-width: var(--max-width);
      margin: clamp(20px, 6vw, 48px) auto;
      padding: clamp(10px, 2.5vw, 20px);
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: 0 6px 24px rgba(11,12,14,0.06);
      /* Remove flex-grow so the card sizes to content rather than stretching vertically */
      line-height: 1.5;
    }

    /* Fix: keep background visible on mobile */
    @media (max-width: 480px){
      .container {
        width: 88%;
        margin-left: auto;
        margin-right: auto;
      }
      body { padding-bottom: env(safe-area-inset-bottom); }
    }

    h1 {
      font-size: clamp(1.4rem, 2.2vw, 2rem);
      font-weight: 700;
      border-bottom: 2px solid var(--accent);
      padding-bottom: .4rem;
      margin: 0 0 0.75rem 0;
    }

    h2 { font-size: clamp(1.05rem, 1.6vw, 1.25rem); margin-top:1rem; }

    p { margin: .9rem 0; }

    ul { margin: .5rem 0 1rem 1.25rem; }

    a { color: #0b66ff; text-decoration: none; }
    a:active, a:focus, a:hover { text-decoration: underline; }

    .footer {
      text-align: center;
      /* Push footer to the bottom of the viewport when using body flex layout */
      margin-top: auto;
      margin-bottom: 34px;
      font-family: Inter, "Courier New", Courier, monospace;
      font-size: .95rem;
    }

    .footer .kem {
      font-weight: 900;
      font-size: 1.5rem;
    }

    /* Footer logo sizing: slightly larger and constrained */
    .footer .kem img {
      height: 48px;
      width: auto;
      transition: opacity 160ms ease;
      display: inline-block;
      vertical-align: middle;
    }

    .footer .corp {
      font-weight: 300;
      font-size: .95rem;
      margin-top: -4px;
    }

    .logo {
      text-align: center;
      margin-bottom: 8px;
    }

    .logo img {
      max-width: 150px;
      height: auto;
      display: block;
      margin: 0 auto;
    }

    /* Theme variants */
    body.light {
      --bg: #f4f4f4;
      --card: #fff;
      --text: #222;
      --accent: #111;
    }

    body.dark {
      --bg: #0b0d10;
      --card: #0f1113;
      --text: #e6eef6;
      /* Use a subtle neutral accent in dark mode so the H1 divider isn't bright blue */
      --accent: rgba(255,255,255,0.09);
    }

    /* Top bar with logo and theme toggle */
    .topbar {
      display: flex;
      align-items: center;
      justify-content: center; /* center content horizontally */
      gap: 12px;
      margin-bottom: 12px;
    }

    .theme-toggle {
      background: transparent;
      border: 1px solid rgba(0,0,0,0.08);
      padding: 8px 10px;
      border-radius: 999px;
      cursor: pointer;
      font-size: 1rem;
      line-height: 1;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .theme-toggle:focus { outline: 2px solid rgba(11,102,255,0.2); }
  </style>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "name": "KEMS",
        "url": "https://getkems.com/",
        "logo": "https://getkems.com/logo.png",
        "sameAs": ["https://www.instagram.com/GetKEMS","https://twitter.com/GetKEMS"]
      },
      {
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "What is KEMS?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "KEMS (Kinetic Energy Management System) is a device-based self-observation system that records users as they speak and interact in front of the device to support personal growth, emotional awareness, and therapeutic reflection."
            }
          }
        ]
      }
    ]
  }
  </script>
</head>
<body>
  <div class="container">
    <div class="topbar">
      <div class="logo"></div>
    </div>
    <h1>KEMS — Kinetic Energy Management System</h1>
    <p><strong>KEMS</strong> (Kinetic Energy Management System) is a device-based self-observation system designed to support personal growth, emotional awareness, and therapeutic reflection.</p>

    <div id="cloud-section" style="margin-top: 24px; border-top: 1px solid #ddd; padding-top: 24px;">
      <p><strong>Access Your Mirror Device:</strong></p>

      <!-- Auth Tabs -->
      <div style="display: flex; gap: 8px; margin-bottom: 16px;">
        <button id="tab-login" style="
          flex: 1;
          padding: 10px;
          background: #0b66ff;
          color: white;
          border: none;
          border-radius: 6px 0 0 6px;
          cursor: pointer;
          font-weight: 600;
        ">Login</button>
        <button id="tab-signup" style="
          flex: 1;
          padding: 10px;
          background: #ccc;
          color: #333;
          border: none;
          border-radius: 0 6px 6px 0;
          cursor: pointer;
          font-weight: 600;
        ">Sign Up</button>
      </div>

      <!-- Login Form -->
      <div id="login-form" style="margin: 20px 0;">
        <p style="font-size: 0.9rem; color: #666;">Log in to your KEMS cloud account to access your Mirror devices securely from anywhere.</p>
        <input id="cloud-email" type="email" placeholder="Email" 
          style="
            width: 100%;
            max-width: 300px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 0.95rem;
            margin-top: 8px;
            box-sizing: border-box;
            display: block;
            margin-left: auto;
            margin-right: auto;
          " />
        <input id="cloud-password" type="password" placeholder="Password" 
          style="
            width: 100%;
            max-width: 300px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 0.95rem;
            margin-top: 8px;
            box-sizing: border-box;
            display: block;
            margin-left: auto;
            margin-right: auto;
          " />
        <button id="cloud-login-btn" style="
          padding: 10px 20px;
          font-size: 0.95rem;
          background-color: #0b66ff;
          color: white;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          font-weight: 600;
          margin-top: 12px;
          transition: background-color 200ms ease;
        " onmouseover="this.style.backgroundColor='#0052cc'" onmouseout="this.style.backgroundColor='#0b66ff'">
          Login
        </button>
        <div id="cloud-status" style="margin-top: 12px; font-size: 0.9rem; color: #666;"></div>
      </div>

      <!-- Signup Form -->
      <div id="signup-form" style="margin: 20px 0; display: none;">
        <p style="font-size: 0.9rem; color: #666;">Create a new KEMS cloud account to manage your Mirror devices.</p>
        <input id="signup-email" type="email" placeholder="Email" 
          style="
            width: 100%;
            max-width: 300px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 0.95rem;
            margin-top: 8px;
            box-sizing: border-box;
            display: block;
            margin-left: auto;
            margin-right: auto;
          " />
        <input id="signup-password" type="password" placeholder="Password (min 6 chars)" 
          style="
            width: 100%;
            max-width: 300px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 0.95rem;
            margin-top: 8px;
            box-sizing: border-box;
            display: block;
            margin-left: auto;
            margin-right: auto;
          " />
        <button id="cloud-signup-btn" style="
          padding: 10px 20px;
          font-size: 0.95rem;
          background-color: #0b66ff;
          color: white;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          font-weight: 600;
          margin-top: 12px;
          transition: background-color 200ms ease;
        " onmouseover="this.style.backgroundColor='#0052cc'" onmouseout="this.style.backgroundColor='#0b66ff'">
          Create Account
        </button>
        <div id="signup-status" style="margin-top: 12px; font-size: 0.9rem; color: #666;"></div>
      </div>

      <!-- Devices List (shown after login) -->
      <div id="devices-list" style="display: none; margin-top: 20px;">
        <p><strong>Your Devices:</strong></p>
        <div id="devices-container" style="margin-top: 12px;"></div>
        <button id="cloud-logout-btn" style="
          padding: 8px 16px;
          font-size: 0.85rem;
          background-color: #999;
          color: white;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          margin-top: 16px;
          transition: background-color 200ms ease;
        " onmouseover="this.style.backgroundColor='#666'" onmouseout="this.style.backgroundColor='#999'">
          Logout
        </button>
      </div>

      <p style="font-size: 0.85rem; color: #999; margin-top: 16px;">
        Your Mirror devices are securely connected to the cloud. Only you can access your recordings.
      </p>
    </div>
  </div>

    <div class="footer">
    <div class="kem"><img src="kems-logo2.png" alt="KEMS logo" id="footer-logo-toggle" tabindex="0" role="button" aria-label="Toggle theme"></div>
  </div>
  
  <script>
    (function(){
      const body = document.body;
      const btn = document.getElementById('theme-toggle');
      function setTheme(t){
        body.classList.remove('light','dark');
        body.classList.add(t);
        try{ localStorage.setItem('site-theme', t); }catch(e){}
        // Use text labels instead of emoji for accessibility and to avoid emoji references
        if(btn) btn.textContent = t === 'dark' ? 'Light' : 'Dark';

        // Update footer logo to variant per theme: light -> kems-logo2.png, dark -> kems-logo1.png
        try {
          const footerLogoEl = document.getElementById('footer-logo-toggle');
          if (footerLogoEl) {
            footerLogoEl.src = (t === 'dark') ? 'kems-logo1.png' : 'kems-logo2.png';
          }
        } catch (e) {
          // ignore missing element
        }
      }
      const saved = (function(){ try{return localStorage.getItem('site-theme')}catch(e){return null} })();
      if(saved === 'dark' || saved === 'light') setTheme(saved);
      else {
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        setTheme(prefersDark ? 'dark' : 'light');
      }
      if(btn){
        btn.addEventListener('click', function(){
          const current = body.classList.contains('dark') ? 'dark' : 'light';
          setTheme(current === 'dark' ? 'light' : 'dark');
        });
      }
      const logo = document.getElementById('logo-toggle');
      if(logo){
        logo.style.cursor = 'pointer';
        logo.addEventListener('click', function(){
          const current = body.classList.contains('dark') ? 'dark' : 'light';
          setTheme(current === 'dark' ? 'light' : 'dark');
        });
        logo.addEventListener('keydown', function(e){ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); const current = body.classList.contains('dark') ? 'dark' : 'light'; setTheme(current === 'dark' ? 'light' : 'dark'); } });
      }

      // Footer logo as accessible theme toggle (click + keyboard)
      const footerLogo = document.getElementById('footer-logo-toggle');
      if (footerLogo) {
        footerLogo.style.cursor = 'pointer';
        // Ensure it's focusable and announced as a button (attributes are set on the element already)
        footerLogo.addEventListener('click', function () {
          const current = body.classList.contains('dark') ? 'dark' : 'light';
          setTheme(current === 'dark' ? 'light' : 'dark');
        });
        footerLogo.addEventListener('keydown', function (e) {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            const current = body.classList.contains('dark') ? 'dark' : 'light';
            setTheme(current === 'dark' ? 'light' : 'dark');
          }
        });
      }
    })();

    // Cloud Dashboard handler
    (function(){
      const CLOUD_URL = localStorage.getItem('kems-cloud-url') || 'https://cloud.getkems.com';  // update if different
      
      // Login form elements
      const emailInput = document.getElementById('cloud-email');
      const passwordInput = document.getElementById('cloud-password');
      const loginBtn = document.getElementById('cloud-login-btn');
      const statusDiv = document.getElementById('cloud-status');
      const loginForm = document.getElementById('login-form');
      
      // Signup form elements
      const signupEmailInput = document.getElementById('signup-email');
      const signupPasswordInput = document.getElementById('signup-password');
      const signupBtn = document.getElementById('cloud-signup-btn');
      const signupStatusDiv = document.getElementById('signup-status');
      const signupForm = document.getElementById('signup-form');
      
      // Tabs
      const tabLogin = document.getElementById('tab-login');
      const tabSignup = document.getElementById('tab-signup');
      
      // Device list elements
      const devicesList = document.getElementById('devices-list');
      const devicesContainer = document.getElementById('devices-container');
      const logoutBtn = document.getElementById('cloud-logout-btn');

      let currentToken = null;

      // Load token from localStorage if exists
      try {
        currentToken = localStorage.getItem('kems-cloud-token');
        const email = localStorage.getItem('kems-cloud-email');
        if (currentToken && email) {
          emailInput.value = email;
          showDevicesList();
        }
      } catch (e) {}

      function showStatus(msg, type) {
        statusDiv.innerHTML = `<span style="color: ${type === 'error' ? '#d32f2f' : type === 'success' ? '#388e3c' : '#666'};">${msg}</span>`;
      }

      function showSignupStatus(msg, type) {
        signupStatusDiv.innerHTML = `<span style="color: ${type === 'error' ? '#d32f2f' : type === 'success' ? '#388e3c' : '#666'};">${msg}</span>`;
      }

      function showDevicesList() {
        loginForm.style.display = 'none';
        signupForm.style.display = 'none';
        devicesList.style.display = 'block';
        loadDevices();
      }

      function showLoginForm() {
        currentToken = null;
        loginForm.style.display = 'block';
        signupForm.style.display = 'none';
        devicesList.style.display = 'none';
        try {
          localStorage.removeItem('kems-cloud-token');
          localStorage.removeItem('kems-cloud-email');
        } catch (e) {}
      }

      function loadDevices() {
        if (!currentToken) {
          showStatus('Not logged in', 'error');
          return;
        }
        devicesContainer.innerHTML = '<p style="color: #666;">Loading devices...</p>';
        
        const email = localStorage.getItem('kems-cloud-email') || 'User';
        devicesContainer.innerHTML = `
          <p style="font-size: 0.9rem; color: #666;">
            <strong>${email}</strong><br/>
            Your Mirror devices will appear here once linked.
          </p>
          <p style="font-size: 0.85rem; color: #999; margin-top: 12px;">
            <strong>To link your Mirror device:</strong><br/>
            1. Open your Mirror's setup page (local IP address on port 8000)<br/>
            2. Enter this cloud URL: <code style="background: #f0f0f0; padding: 2px 6px; border-radius: 3px;">${CLOUD_URL}</code><br/>
            3. Go to Mirror settings and link your device using your account<br/>
            4. Your device will appear here when connected.
          </p>
        `;
      }

      // Tab switching
      tabLogin.addEventListener('click', function(){
        loginForm.style.display = 'block';
        signupForm.style.display = 'none';
        tabLogin.style.background = '#0b66ff';
        tabLogin.style.color = 'white';
        tabSignup.style.background = '#ccc';
        tabSignup.style.color = '#333';
      });

      tabSignup.addEventListener('click', function(){
        loginForm.style.display = 'none';
        signupForm.style.display = 'block';
        tabLogin.style.background = '#ccc';
        tabLogin.style.color = '#333';
        tabSignup.style.background = '#0b66ff';
        tabSignup.style.color = 'white';
      });

      // Login handler
      loginBtn.addEventListener('click', function(){
        const email = emailInput.value.trim();
        const password = passwordInput.value;
        if (!email || !password) {
          showStatus('Please enter email and password', 'error');
          return;
        }

        loginBtn.disabled = true;
        showStatus('Logging in...', 'info');

        fetch(CLOUD_URL + '/cloud/login', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email, password })
        })
        .then(r => r.json())
        .then(data => {
          if ((data.token || data.status === 'ok') && data.token) {
            currentToken = data.token;
            try {
              localStorage.setItem('kems-cloud-token', data.token);
              localStorage.setItem('kems-cloud-email', email);
            } catch (e) {}
            showStatus('Logged in successfully', 'success');
            setTimeout(() => showDevicesList(), 800);
          } else {
            showStatus('Login failed: ' + (data.message || 'invalid credentials'), 'error');
            currentToken = null;
          }
        })
        .catch(err => {
          console.error(err);
          showStatus('Login error: ' + err.message, 'error');
          currentToken = null;
        })
        .finally(() => {
          loginBtn.disabled = false;
        });
      });

      // Signup handler
      signupBtn.addEventListener('click', function(){
        const email = signupEmailInput.value.trim();
        const password = signupPasswordInput.value;
        
        if (!email || !password) {
          showSignupStatus('Please enter email and password', 'error');
          return;
        }

        if (password.length < 6) {
          showSignupStatus('Password must be at least 6 characters', 'error');
          return;
        }

        signupBtn.disabled = true;
        showSignupStatus('Creating account...', 'info');

        fetch(CLOUD_URL + '/cloud/signup', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email, password })
        })
        .then(r => r.json())
        .then(data => {
          if (data.token) {
            currentToken = data.token;
            try {
              localStorage.setItem('kems-cloud-token', data.token);
              localStorage.setItem('kems-cloud-email', email);
            } catch (e) {}
            showSignupStatus('Account created successfully! Logging in...', 'success');
            setTimeout(() => showDevicesList(), 1500);
          } else {
            showSignupStatus('Signup failed: ' + (data.message || 'unknown error'), 'error');
            currentToken = null;
          }
        })
        .catch(err => {
          console.error(err);
          showSignupStatus('Signup error: ' + err.message, 'error');
          currentToken = null;
        })
        .finally(() => {
          signupBtn.disabled = false;
        });
      });

      // Logout handler
      logoutBtn.addEventListener('click', function(){
        showLoginForm();
        emailInput.value = '';
        passwordInput.value = '';
        signupEmailInput.value = '';
        signupPasswordInput.value = '';
        statusDiv.innerHTML = '';
        signupStatusDiv.innerHTML = '';
      });

      // Allow Enter key in password fields
      passwordInput.addEventListener('keypress', function(e){
        if (e.key === 'Enter') loginBtn.click();
      });

      signupPasswordInput.addEventListener('keypress', function(e){
        if (e.key === 'Enter') signupBtn.click();
      });

      // Allow customizing cloud URL (for dev/testing)
      try {
        const urlParam = new URLSearchParams(window.location.search).get('cloud_url');
        if (urlParam) {
          localStorage.setItem('kems-cloud-url', urlParam);
          window.location.hash = '';  // clean up URL
        }
      } catch (e) {}
    })();
  </script>
</body>
</html>
